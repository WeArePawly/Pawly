(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},46:function(e,t,s){},72:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},79:function(e,t,s){"use strict";s.r(t);var a=s(1),c=s(35),n=s.n(c),i=(s(42),s(11)),l=s(2),r=(s(43),s(44),s(45),s(4)),d=(s(46),s(5)),o=s(3),j=s.n(o),u=s(0);function b(e){var t=function(){j.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e})).then((function(){e.setUser(null)}))};return Object(u.jsxs)("nav",{className:"navbar",role:"navigation","aria-label":"main navigation",children:[Object(u.jsxs)("div",{className:"navbar-brand",children:[Object(u.jsx)("a",{className:"navbar-item",href:"/",children:Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621510947/pawly/pawly-logo-small_clxuey.png",width:"auto",height:"40"})}),Object(u.jsxs)("a",{role:"button",className:"navbar-burger","aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample",children:[Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"}),Object(u.jsx)("span",{"aria-hidden":"true"})]})]}),Object(u.jsxs)("div",{id:"navbarBasicExample",className:"navbar-menu",children:[Object(u.jsxs)("div",{className:"navbar-start",children:[Object(u.jsx)(d.b,{to:"/",className:"navbar-item",children:"Home"}),Object(u.jsx)(d.b,{to:"/training",className:"navbar-item",children:"Training"}),Object(u.jsx)(d.b,{to:"/about",className:"navbar-item",children:"\xdcber uns"}),e.user?Object(u.jsx)(d.b,{to:"/dashboard",className:"navbar-item",children:"Dashboard"}):null]}),Object(u.jsx)("div",{className:"navbar-end",children:Object(u.jsx)("div",{className:"navbar-item",children:Object(u.jsx)("div",{className:"buttons",children:e.user?Object(u.jsx)(d.b,{className:"button is-dark",to:"/",onClick:function(){return t()},children:"Logout"}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(d.b,{className:"button is-purple",to:"/signup",children:"Signup"}),Object(u.jsx)(d.b,{className:"button is-light",to:"/login",children:"Login"})]})})})})]})]})}function h(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("label",{className:"label",htmlFor:"business_name",children:"Firmenname"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"business_name",type:"text",name:"business_name",placeholder:"Pawly",value:e.vendorProps.business_name,onChange:function(t){return e.vendorProps.setBusinessName(t.target.value)}})})}),Object(u.jsx)("label",{className:"label",htmlFor:"street",children:"Stra\xdfe"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"street",type:"text",name:"street",value:e.vendorProps.street,onChange:function(t){return e.vendorProps.setStreet(t.target.value)}})})}),Object(u.jsx)("label",{className:"label",htmlFor:"house_number",children:"Hausnummer"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"house_number",type:"number",name:"house_number",value:e.vendorProps.house_number,onChange:function(t){return e.vendorProps.setHouseNumber(t.target.value)}})})}),Object(u.jsx)("label",{className:"label",htmlFor:"additional_address_info",children:"Adresszusatz"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"additional_address_info",type:"text",name:"additional_address_info",value:e.vendorProps.additional_address_info,onChange:function(t){return e.vendorProps.setAdditionalAddressInfo(t.target.value)}})})}),Object(u.jsxs)("label",{className:"label",htmlFor:"postal_code",children:["PLZ"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"postal_code",type:"number",name:"postal_code",value:e.vendorProps.postal_code,onChange:function(t){return e.vendorProps.setPostalCode(t.target.value)}})})}),Object(u.jsx)("label",{className:"label",htmlFor:"city",children:"Stadt"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"city",type:"text",name:"city",value:e.vendorProps.city,onChange:function(t){return e.vendorProps.setCity(t.target.value)}})})}),Object(u.jsx)("label",{className:"label",htmlFor:"business_type",children:"W\xe4hlen Sie Ihren Gesch\xe4ftstyp:"}),Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{value:e.vendorProps.business_type,onChange:function(t){e.vendorProps.setBusinessType(t.target.value)},name:"business_type",id:"business_type",children:[Object(u.jsx)("option",{value:"Hundeschule",children:"Hundeschule"}),Object(u.jsx)("option",{value:"Salon",children:"Salon"}),Object(u.jsx)("option",{value:"Tierarzt",children:"Tierarzt"})]})})]})}function m(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),m=Object(l.a)(b,2),O=m[0],p=m[1],x=Object(a.useState)("dogOwner"),v=Object(l.a)(x,2),g=v[0],f=v[1],N=Object(a.useState)(""),_=Object(l.a)(N,2),y=_[0],w=_[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),C=k[0],F=k[1],D=Object(a.useState)(""),z=Object(l.a)(D,2),P=z[0],B=z[1],I=Object(a.useState)(""),E=Object(l.a)(I,2),T=E[0],U=E[1],A=Object(a.useState)(""),q=Object(l.a)(A,2),L=q[0],H=q[1],W=Object(a.useState)(""),G=Object(l.a)(W,2),M=G[0],K=G[1],Z=Object(a.useState)(""),J=Object(l.a)(Z,2),V=J[0],Q=J[1],Y=Object(a.useState)(""),R=Object(l.a)(Y,2),X=R[0],$=R[1],ee=Object(a.useState)(""),te=Object(l.a)(ee,2),se=te[0],ae=te[1],ce=Object(a.useState)("Hundeschule"),ne=Object(l.a)(ce,2),ie=ne[0],le=ne[1],re={business_name:T,setBusinessName:U,street:L,setStreet:H,house_number:M,setHouseNumber:K,additional_address_info:V,setAdditionalAddressInfo:Q,postal_code:X,setPostalCode:$,city:se,setCity:ae,business_type:ie,setBusinessType:le};var de=function(e){f(e.target.value)};return Object(u.jsxs)("div",{className:"container auth",children:[Object(u.jsx)("h2",{className:"title is-2",children:"Werde Teil von Pawly!"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t,s,a,c,n,i,l,r,d,o,u,b){return j.a.post("/api/auth/signup",{email:e,password:t,role:s,first_name:a,last_name:c,username:n,business_name:i,street:l,house_number:r,additional_address_info:d,postal_code:o,city:u,business_type:b}).then((function(e){return console.log(e.data),e.data})).catch((function(e){return e}))}(d,O,g,y,C,P,T,L,M,V,X,se,ie).then((function(t){t.message?(n(t.message),o(""),p("")):(console.log(t),e.setUser(t),e.history.push("/dashboard"))}))},children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsxs)("label",{class:"label",htmlFor:"email",children:["Email:"," "]}),Object(u.jsx)("input",{className:"input",id:"email",type:"email",name:"email",value:d,onChange:function(e){return o(e.target.value)}})]})}),Object(u.jsxs)("label",{class:"label",htmlFor:"password",children:["Passwort:"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"password",type:"password",name:"password",value:O,onChange:function(e){return p(e.target.value)}})})}),Object(u.jsxs)("label",{class:"label",htmlFor:"username",children:["Username:"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"username",type:"text",name:"username",value:P,onChange:function(e){return B(e.target.value)}})})}),Object(u.jsxs)("label",{class:"label",htmlFor:"first_name",children:["Vorname:"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"first_name",type:"text",name:"first_name",value:y,onChange:function(e){return w(e.target.value)}})})}),Object(u.jsxs)("label",{class:"label",htmlFor:"last_name",children:["Nachname:"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"last_name",type:"text",name:"last_name",value:C,onChange:function(e){return F(e.target.value)}})})}),Object(u.jsx)("br",{}),Object(u.jsx)("p",{className:"title is-4",children:"Ich m\xf6chte bei Pawly mitmachen als:"}),Object(u.jsxs)("div",{class:"control check-user-type",children:[Object(u.jsxs)("label",{className:"radio",htmlFor:"role",children:[Object(u.jsx)("input",{id:"role-owner",type:"radio",name:"role",value:"dogOwner",checked:"dogOwner"===g,onChange:de}),"Hundebesitzer"]}),Object(u.jsxs)("label",{className:"radio",htmlFor:"role",children:[Object(u.jsx)("input",{id:"role-vendor",type:"radio",name:"role",value:"vendor",checked:"vendor"===g,onChange:de}),"Serviceanbieter"]})]}),"vendor"===g&&Object(u.jsx)(h,{vendorProps:re}),Object(u.jsx)("button",{type:"submit",className:"button is-purple",children:"Jetzt anmelden!"}),c&&Object(u.jsx)("h3",{children:c})]})]})}function O(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1];return Object(u.jsxs)("div",{className:"container auth",children:[Object(u.jsx)("h2",{className:"title is-2",children:"Log In"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),function(e,t){return j.a.post("/api/auth/login",{email:e,password:t}).then((function(e){return e.data})).catch((function(e){return e}))}(c,d).then((function(t){t.message?(O(t.message),n(""),o("")):(console.log(t),e.setUser(t),e.history.push("/dashboard"))}))},children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsxs)("label",{class:"label",htmlFor:"email",children:["Email:"," "]}),Object(u.jsx)("input",{className:"input",id:"email",type:"email",name:"email",placeholder:"jingles@pawly.com",value:c,onChange:function(e){return n(e.target.value)}})]})}),Object(u.jsxs)("label",{class:"label",htmlFor:"password",children:["Password:"," "]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",placeholder:"Password",id:"password",type:"password",name:"password",value:d,onChange:function(e){return o(e.target.value)}})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("button",{type:"submit",className:"button is-purple",children:"Login"})})}),m&&Object(u.jsx)("p",{className:"title is-5",children:m})]})]})}var p=s(10),x=s.n(p),v=s(14);s(72);function g(e){return Object(u.jsxs)("div",{className:"dashboard-content general",children:[Object(u.jsx)("figure",{class:"image is-128x128",children:Object(u.jsx)("img",{class:"is-rounded",src:e.user.avatar?e.user.avatar.path:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621528360/pawly/placeholder-vendor_lhavwl.png"})}),Object(u.jsxs)("h3",{className:"title is-3",children:["Willkommen zur\xfcck, ",e.user.username," \ud83d\udc15"]})]})}function f(e){return Object(u.jsxs)("div",{className:"dashboard-content general",children:[Object(u.jsx)("figure",{class:"image is-128x128",children:Object(u.jsx)("img",{class:"is-rounded",src:e.user.avatar?e.user.avatar.path:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621528360/pawly/placeholder-vendor_lhavwl.png"})}),Object(u.jsxs)("h3",{className:"title is-3",children:["Willkommen zur\xfcck, ",e.user.username," \ud83d\udc15"]})]})}function N(e){return Object(u.jsx)("div",{class:"menu tabs is-medium",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{onClick:e.handleClick,className:"active",children:"\xdcbersicht"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Benutzerdaten"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Favoriten"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Buchungen"})]})})}function _(e){return Object(u.jsx)("div",{class:"menu tabs is-medium",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{onClick:e.handleClick,className:"active",children:"\xdcbersicht"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Benutzerdaten"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Dienstleistungen"}),Object(u.jsx)("li",{onClick:e.handleClick,children:"Buchungen"})]})})}var y=s(20),w=s.n(y);s(23);function S(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1];return Object(a.useEffect)((function(){j.a.get("/api/vendors/".concat(e.vendorId)).then((function(e){n(e.data.vendor_id.ratings)}))}),[e]),Object(u.jsxs)("div",{children:[Object(u.jsx)("h3",{className:"title is-3",children:"Bewertungen"}),c&&Object(u.jsx)(u.Fragment,{children:c.map((function(e,t){var s=e.rating_value;return Object(u.jsxs)("div",{className:"row rating-item",children:[Object(u.jsx)("img",{src:e.username.avatar?e.username.avatar.path:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621528360/pawly/placeholder-vendor_lhavwl.png",alt:""}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)("span",{children:e.username})}),Object(u.jsx)("li",{children:Object(u.jsx)(w.a,{value:s,editing:!1,name:"rate"})}),Object(u.jsx)("li",{children:e.rating_description})]},e._id)]},t)}))})]})}function k(e){var t=Object(a.useState)(5),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(!0),x=Object(l.a)(p,2),v=x[0],g=x[1];return Object(u.jsx)("div",{className:"rate-booking",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s=e.user._id,a=e.user.username;j.a.patch("/api/vendors/".concat(e.vendorId),{rating:c,comment:d,userId:s,username:a}).then((function(e){console.log(e),O("Deine Bewertung wurde erfolgreich gespeichert!"),g(!1),o("")})).catch((function(e){console.log(e)}))},children:[Object(u.jsx)(w.a,{starCount:5,onStarClick:function(e,t){return n(e,t)},value:c,name:"rate"}),Object(u.jsx)("input",{className:"input",id:"comment",type:"textarea",name:"comment",value:d,placeholder:"Lass uns wissen wie es dir gefallen hat!",onChange:function(e){return o(e.target.value)}}),v?Object(u.jsx)("button",{className:"button is-salmon",type:"submit",children:"Bewertung abschicken"}):Object(u.jsx)("h3",{children:!v}),Object(u.jsx)("h3",{children:m})]})})}function C(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),d=r[0],o=r[1];function b(e){o(!d)}return Object(a.useEffect)((function(){j.a.get("/api/booking/".concat(e.user._id,"/services")).then((function(e){n(e.data)}))}),[]),Object(u.jsxs)("div",{className:"dashboard-content bookings-owner",children:[!c&&Object(u.jsx)("h3",{className:"title is-3",children:"Anscheinend hast du noch nichts gebucht."}),c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"title is-3",children:"Deine Buchungen"}),c.map((function(t,s){return Object(u.jsxs)("div",{className:"booking-item",children:[Object(u.jsx)("h4",{className:"title is-4",children:t.name}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Termine: "}),Object(u.jsx)("div",{className:"col dates",children:t.booking.filter((function(t,s){return t.booked_by.includes(e.user._id)})).map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("span",{children:e.booked_dates}),Object(u.jsx)("span",{children:", "})]})}))})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Preis: "}),Object(u.jsxs)("div",{className:"col",children:[t.price,"\u20ac"]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Adresse: "}),Object(u.jsxs)("div",{className:"col",children:[t.location.street," ",t.location.house_number,","," ",t.location.additional_info&&"".concat(t.location.additional_info,",")," ",t.location.postal_code," ",t.location.city]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Zeit: "}),Object(u.jsxs)("div",{className:"col",children:["Der Kurs beginnt um ",t.time.start," und endet um"," ",t.time.end,"."]})]}),!d&&Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-yellow",onClick:b,children:"Bewertung hinzuf\xfcgen"})}),d&&Object(u.jsx)(k,{user:e.user,vendorId:t.vendor_id})]},s)}))]})]})}function F(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1];return Object(a.useEffect)((function(){j.a.get("/api/booking/services/".concat(e.user.vendor_id)).then((function(e){return n(e.data)}))}),[]),Object(u.jsxs)("div",{className:"dashboard-content bookings-vendor",children:[!c&&Object(u.jsxs)("h3",{className:"title is-3",children:["Es hat anscheinend noch keiner von unseren Nutzern etwas gebucht."," "]}),c&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"title is-3",children:"Folgende Hundeliebhaber:innen haben bei dir gebucht:"}),Object(u.jsx)("div",{className:"service-wrapper",children:c.map((function(e,t){return Object(u.jsxs)("div",{className:"booking-item",children:[Object(u.jsxs)("h4",{className:"booking-item-title title is-4",children:[e.name," wurde f\xfcr den"]}),Object(u.jsx)("div",{className:"booking-item-customer",children:e.booking.map((function(e,t){return Object(u.jsxs)("p",{children:[e.booked_dates," von"," ",e.booked_by.map((function(e){return Object(u.jsx)(u.Fragment,{children:e.username})}))," ","gebucht."]})}))})]},t)}))})]})]})}var D=s(15);function z(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(""),g=Object(l.a)(p,2),f=g[0],N=g[1],_=Object(a.useState)(""),y=Object(l.a)(_,2),w=y[0],S=y[1],k=Object(a.useState)(""),C=Object(l.a)(k,2),F=C[0],z=C[1],P=Object(a.useState)(""),B=Object(l.a)(P,2),I=B[0],E=B[1],T=Object(a.useState)(""),U=Object(l.a)(T,2),A=U[0],q=U[1],L=Object(a.useState)([]),H=Object(l.a)(L,2),W=H[0],G=H[1],M=Object(a.useState)(""),K=Object(l.a)(M,2),Z=K[0],J=K[1],V=Object(a.useState)(""),Q=Object(l.a)(V,2),Y=Q[0],R=Q[1],X=Object(a.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],se=Object(a.useState)(""),ae=Object(l.a)(se,2),ce=ae[0],ne=ae[1],ie=Object(a.useState)(""),le=Object(l.a)(ie,2),re=le[0],de=le[1],oe=Object(a.useState)(""),je=Object(l.a)(oe,2),ue=je[0],be=je[1],he=Object(a.useState)(""),me=Object(l.a)(he,2),Oe=me[0],pe=me[1],xe=Object(a.useState)(""),ve=Object(l.a)(xe,2),ge=ve[0],fe=ve[1],Ne=Object(a.useState)(""),_e=Object(l.a)(Ne,2),ye=_e[0],we=_e[1];Object(a.useEffect)(Object(v.a)(x.a.mark((function t(){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/vendors/".concat(e.user.vendor_id,"/").concat(e.serviceId));case 2:s=t.sent,n(s.data.name),o(s.data.price),O(s.data.format),N(s.data.location.street),S(s.data.location.house_number),z(s.data.location.postal_code),E(s.data.location.city),q(s.data.operator[0].name),J(s.data.description),be(s.data.group_size.total);case 13:case"end":return t.stop()}}),t)}))),[]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Update Service"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s=new FormData;s.append("imgUrl",Oe),s.append("name",c),s.append("price",d),s.append("format",m),s.append("street",f),s.append("house_number",w),s.append("postal_code",F),s.append("city",I),s.append("operator_name",A),s.append("languages",W),s.append("description",Z),s.append("group_size",ue),s.append("final_dates",ee),s.append("start_time",ce),s.append("end_time",re),j.a.put("/api/vendors/".concat(e.user.vendor_id,"/").concat(e.serviceId),s).then((function(e){console.log(e),fe("Ihre Dienstleistung wurde erfolgreich ge\xe4ndert!")})).catch((function(){we("Bitte f\xfcllen Sie alle Pflichtfelder aus")}))},children:[Object(u.jsx)("label",{htmlFor:"name",children:"Name: "}),Object(u.jsx)("input",{required:!0,id:"name",type:"text",name:"name",value:c,onChange:function(e){return n(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"price",children:"Price: "}),Object(u.jsx)("input",{required:!0,id:"price",type:"number",name:"price",value:d,onChange:function(e){return o(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"format",children:"W\xe4hlen Sie Ihre Unterrichtsart"}),Object(u.jsxs)("select",{value:m,onChange:function(e){O(e.target.value)},name:"format",id:"format",children:[Object(u.jsx)("option",{value:"online",children:"Online"}),Object(u.jsx)("option",{value:"onsite",children:"Vor Ort"}),Object(u.jsx)("option",{value:"mobile",children:"Mobil"})]}),Object(u.jsx)("label",{htmlFor:"street",children:"Adresse *"}),Object(u.jsx)("input",{required:!0,id:"street",type:"text",name:"street",value:f,onChange:function(e){return N(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"house_number",children:"Hausnummer"}),Object(u.jsx)("input",{id:"house_number",type:"number",name:"house_number",value:w,onChange:function(e){return S(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"postal_code",children:"PLZ "}),Object(u.jsx)("input",{id:"postal_code",type:"number",name:"postal_code",value:F,onChange:function(e){return z(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"city",children:"Stadt"}),Object(u.jsx)("input",{required:!0,id:"city",type:"text",name:"city",value:I,onChange:function(e){return E(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"operator_name",children:"Mitarbeiter"}),Object(u.jsx)("input",{id:"operator_name",type:"text",name:"operator_name",value:A,onChange:function(e){return q(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"description",children:"Beschreibung"}),Object(u.jsx)("input",{required:!0,minLength:"50",id:"description",type:"textarea",name:"description",value:Z,onChange:function(e){return J(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"languages",children:"W\xe4hlen Sie die Sprache"}),Object(u.jsxs)("select",{required:!0,multiple:!0,value:W,onChange:function(e){e.persist(),G((function(t){var s=e.target.value;return t.includes(s)?t.filter((function(e){return e!==s})):[].concat(Object(D.a)(t),[s])}))},name:"languages",id:"languages",children:[Object(u.jsx)("option",{value:"Deutsch",children:"Deutsch"}),Object(u.jsx)("option",{value:"Englisch",children:"Englisch"})]}),Object(u.jsx)("label",{htmlFor:"dates",children:"Datum: "}),Object(u.jsx)("input",{required:!0,id:"date",type:"date",name:"dates",value:Y,onChange:function(e){return R(e.target.value)}}),Object(u.jsx)("button",{type:"button",onClick:function(){te((function(e){return[].concat(Object(D.a)(e),[Y])}))},children:"Datum hinzuf\xfcgen"}),Object(u.jsx)("p",{children:"Diese Daten hast du schon ausgew\xe4hlt:"}),Object(u.jsx)("ul",{children:ee.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))}),Object(u.jsx)("label",{htmlFor:"start_time",children:"Beginn: "}),Object(u.jsx)("input",{required:!0,id:"start_time",type:"time",name:"start_time",value:ce,onChange:function(e){return ne(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"end_time",children:"Ende: "}),Object(u.jsx)("input",{id:"end_time",type:"time",name:"end_time",value:re,onChange:function(e){return de(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"group_size",children:"Teilnehmer max."}),Object(u.jsx)("input",{required:!0,id:"group_size",type:"number",name:"group_size",value:ue,onChange:function(e){return be(e.target.value)}}),Object(u.jsx)("label",{htmlFor:"imageUrl",children:"Bild hochladen:"}),Object(u.jsx)("input",{type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),pe(e.target.files[0])}(e)}}),Object(u.jsx)("button",{type:"submit",children:"Kurs aktualisieren"}),ge?Object(u.jsx)("h3",{children:ge}):Object(u.jsx)("h3",{children:ye})]})]})}function P(e){var t=Object(a.useState)(!1),s=Object(l.a)(t,2),c=(s[0],s[1],Object(a.useState)("")),n=Object(l.a)(c,2),i=(n[0],n[1]);return Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){j.a.delete("/api/vendors/".concat(e.user.vendor_id,"/").concat(e.serviceId)).then((function(t){console.log(t),i("Dein Profil wurde erfolgreich bearbeitet."),e.history.push("/dashboard")})).catch((function(e){return e}))},children:"Best\xe4tigen"})})}var B=s(13);function I(e){var t,s=Object(a.useState)(""),c=Object(l.a)(s,2),n=c[0],i=c[1],r=Object(a.useState)(0),d=Object(l.a)(r,2),o=d[0],b=d[1],h=Object(a.useState)("onsite"),m=Object(l.a)(h,2),O=m[0],p=m[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],f=v[1],N=Object(a.useState)(""),_=Object(l.a)(N,2),y=_[0],w=_[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),C=k[0],F=k[1],z=Object(a.useState)(""),P=Object(l.a)(z,2),I=P[0],E=P[1],T=Object(a.useState)(""),U=Object(l.a)(T,2),A=U[0],q=U[1],L=Object(a.useState)(["Deutsch"]),H=Object(l.a)(L,2),W=H[0],G=H[1],M=Object(a.useState)(""),K=Object(l.a)(M,2),Z=K[0],J=K[1],V=Object(a.useState)(""),Q=Object(l.a)(V,2),Y=Q[0],R=Q[1],X=Object(a.useState)([]),$=Object(l.a)(X,2),ee=$[0],te=$[1],se=Object(a.useState)(""),ae=Object(l.a)(se,2),ce=ae[0],ne=ae[1],ie=Object(a.useState)(""),le=Object(l.a)(ie,2),re=le[0],de=le[1],oe=Object(a.useState)(""),je=Object(l.a)(oe,2),ue=je[0],be=je[1],he=Object(a.useState)(""),me=Object(l.a)(he,2),Oe=me[0],pe=me[1],xe=Object(a.useState)(""),ve=Object(l.a)(xe,2),ge=ve[0],fe=ve[1],Ne=Object(a.useState)(""),_e=Object(l.a)(Ne,2),ye=_e[0],we=_e[1];return Object(u.jsxs)("div",{className:"service-render",children:[Object(u.jsx)("h3",{className:"title is-3",children:"Add Service"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault();var s=new FormData;s.append("imgUrl",Oe),s.append("name",n),s.append("price",o),s.append("format",O),s.append("street",g),s.append("house_number",y),s.append("postal_code",C),s.append("city",I),s.append("operator_name",A),s.append("languages",W),s.append("description",Z),s.append("final_dates",ee),s.append("start_time",ce),s.append("end_time",re),s.append("group_size",ue),j.a.post("/api/vendors/".concat(e.user.vendor_id,"/addService"),s).then((function(e){console.log(e),fe("Ihre Dienstleistung wurde erfolgreich erstellt!")})).catch((function(){we("Bitte f\xfcllen Sie alle Pflichtfelder aus")}))},encType:"multipart/form-data",children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"name",children:"Name* "}),Object(u.jsx)("input",{className:"input",required:!0,id:"name",type:"text",name:"name",value:n,onChange:function(e){return i(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"price",children:"Preis* "}),Object(u.jsx)("input",{className:"input",required:!0,id:"price",type:"number",name:"price",value:o,onChange:function(e){return b(e.target.value)}})]})}),Object(u.jsxs)("div",{className:"select is-multiple",children:[Object(u.jsx)("label",{className:"label",htmlFor:"format",children:"Unterrichtsart"}),Object(u.jsxs)("select",{value:O,onChange:function(e){p(e.target.value)},name:"format",id:"format",children:[Object(u.jsx)("option",{value:"online",children:"Online"}),Object(u.jsx)("option",{value:"onsite",children:"Vor Ort"}),Object(u.jsx)("option",{value:"mobile",children:"Mobil"})]})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"street",children:"Adresse*"}),Object(u.jsx)("input",{className:"input",required:!0,id:"street",type:"text",name:"street",value:g,onChange:function(e){return f(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"house_number",children:"Hausnummer *"}),Object(u.jsx)("input",{className:"input",id:"house_number",type:"number",name:"house_number",value:y,onChange:function(e){return w(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"postal_code",children:"PLZ* "}),Object(u.jsx)("input",{className:"input",id:"postal_code",type:"number",name:"postal_code",value:C,onChange:function(e){return F(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{htmlFor:"city",children:"Stadt*"}),Object(u.jsx)("input",{className:"input",required:!0,id:"city",type:"text",name:"city",value:I,onChange:function(e){return E(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"operator_name",children:"Mitarbeiter*"}),Object(u.jsx)("input",{className:"input",id:"operator_name",type:"text",name:"operator_name",value:A,onChange:function(e){return q(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"description",children:"Beschreibung*"}),Object(u.jsx)("input",{className:"input",required:!0,minlength:"50",placeholder:"mind. 50 Zeichen",id:"description",type:"textarea",name:"description",value:Z,onChange:function(e){return J(e.target.value)}})]})}),Object(u.jsxs)("div",{className:"select is-multiple",children:[Object(u.jsx)("label",{className:"label",htmlFor:"languages",children:"W\xe4hlen Sie die Sprache"}),Object(u.jsxs)("select",(t={multiple:!0,size:"2"},Object(B.a)(t,"multiple",!0),Object(B.a)(t,"value",W),Object(B.a)(t,"onChange",(function(e){e.persist(),G((function(t){var s=e.target.value;return t.includes(s)?t.filter((function(e){return e!==s})):[].concat(Object(D.a)(t),[s])}))})),Object(B.a)(t,"name","languages"),Object(B.a)(t,"id","languages"),Object(B.a)(t,"children",[Object(u.jsx)("option",{value:"Deutsch",children:"Deutsch"}),Object(u.jsx)("option",{value:"Englisch",children:"Englisch"})]),t))]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"dates",children:"Datum*"}),Object(u.jsx)("input",{className:"input",required:!0,id:"date",type:"date",name:"dates",value:Y,onChange:function(e){return R(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("button",{type:"button",className:"button is-yellow change-settings",onClick:function(){te((function(e){return[].concat(Object(D.a)(e),[Y])}))},children:"Dieses Datum hinzuf\xfcgen"}),Object(u.jsx)("p",{children:"Diese Daten hast du schon ausgew\xe4hlt:"}),Object(u.jsx)("ul",{children:ee.map((function(e,t){return Object(u.jsx)("li",{children:e},t)}))})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"start_time",children:"Beginn* "}),Object(u.jsx)("input",{className:"input",required:!0,id:"start_time",type:"time",name:"start_time",value:ce,onChange:function(e){return ne(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"end_time",children:"Ende "}),Object(u.jsx)("input",{className:"input",id:"end_time",type:"time",name:"end_time",value:re,onChange:function(e){return de(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"group_size",children:"Teilnehmer max.* "}),Object(u.jsx)("input",{className:"input",required:!0,id:"group_size",type:"number",name:"group_size",value:ue,onChange:function(e){return be(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"imageUrl",children:"Bild hochladen: "}),Object(u.jsx)("input",{className:"input",required:!0,type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),pe(e.target.files[0])}(e)}})]})}),Object(u.jsx)("button",{className:"button is-yellow change-settings",type:"submit",children:"neuen Kurs hinzuf\xfcgen"}),ge?Object(u.jsx)("h3",{children:ge}):Object(u.jsx)("h3",{children:ye})]})]})}function E(e){var t=Object(a.useState)([]),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(""),x=Object(l.a)(p,2),v=x[0],g=x[1];return Object(a.useEffect)((function(){j.a.get("/api/vendors/".concat(e.user.vendor_id,"/services/")).then((function(e){n(e.data)}))}),[e]),Object(u.jsxs)("div",{className:"dashboard-content services-vendor",children:[Object(u.jsx)(I,{user:e.user}),!d&&Object(u.jsx)(u.Fragment,{children:c.map((function(t){return Object(u.jsxs)("div",{className:"service-item",children:[Object(u.jsx)("h3",{className:"title is-3",children:t.name}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Preis"}),Object(u.jsxs)("div",{className:"col",children:[t.price,"\u20ac"]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Unterrichtsart:"}),Object(u.jsx)("div",{className:"col",children:t.format})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Adresse:"}),Object(u.jsxs)("div",{className:"col",children:[t.location.street,t.location.house_number,",",t.location.postal_code,t.location.city," "]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Beschreibung:"}),Object(u.jsx)("div",{className:"col",children:t.description})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Sprache(n):"}),Object(u.jsx)("div",{className:"col setting-tags",children:Object(u.jsx)("ul",{children:t.languages.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("span",{class:"tag is-link",children:e})})}))})})]}),Object(u.jsxs)("div",{className:"align-button-between",children:[Object(u.jsx)("button",{className:"button is-yellow",onClick:function(){return e=t._id,g(e),void o(!d);var e},children:" Bearbeiten"}),Object(u.jsx)("button",{className:"button is-salmon",onClick:function(){return e=t._id,g(e),void O(!m);var e},children:" Entfernen"})]}),m?Object(u.jsx)(P,{serviceId:v,user:e.user}):m]},t._id)}))}),d&&Object(u.jsx)(z,{serviceId:v,user:e.user})]})}function T(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(""),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1];return Object(u.jsx)("div",{className:"pw-change",children:Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.post("/api/auth/password",{oldPassword:d,newPassword:m}).then((function(t){400===t.status?(n(t.data.message),o(""),O("")):(n(t.data.message),setTimeout((function(){e.setPasswordChange(!1)}),5e3))})).catch((function(e){return e}))},children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("label",{class:"label",htmlFor:"username",children:"Aktuelles Passwort:"})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("input",{className:"input",id:"oldPassword",type:"password",name:"oldPassword",value:d,onChange:function(e){return o(e.target.value)}})})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("label",{class:"label",htmlFor:"username",children:"Neues Passwort:"})}),Object(u.jsx)("div",{className:"col",children:Object(u.jsx)("input",{className:"input",id:"newPassword",type:"password",name:"newPassword",value:m,onChange:function(e){return O(e.target.value)}})})]}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-yellow",type:"submit",children:"Passwort \xe4ndern"})}),c&&Object(u.jsx)("h3",{children:c})]})})}function U(e){var t=Object(a.useState)(!1),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(e.profileData.contact.email),x=Object(l.a)(p,2),v=x[0],g=x[1],f=Object(a.useState)(e.profileData.username),N=Object(l.a)(f,2),_=N[0],y=N[1],w=Object(a.useState)(e.profileData.full_name.first_name),S=Object(l.a)(w,2),k=S[0],C=S[1],F=Object(a.useState)(e.profileData.full_name.last_name),D=Object(l.a)(F,2),z=D[0],P=D[1],B=Object(a.useState)(""),I=Object(l.a)(B,2),E=I[0],U=I[1],A=Object(a.useState)(""),q=Object(l.a)(A,2),L=q[0],H=q[1],W=Object(a.useState)(""),G=Object(l.a)(W,2),M=G[0],K=G[1];return Object(u.jsxs)("div",{className:"dashboard-content settings",children:[e.profileData&&!d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Username:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.username})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Name:"}),Object(u.jsxs)("div",{className:"cell-desc",children:[e.profileData.full_name.first_name," ",e.profileData.full_name.last_name]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Email:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.contact.email})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Passwort:"}),Object(u.jsx)("div",{className:"cell-desc",children:!c&&Object(u.jsx)("button",{className:"button is-yellow",onClick:function(){return n(!c)},children:"Password \xe4ndern"})})]}),Object(u.jsx)("div",{className:"row",children:!0===c&&Object(u.jsx)(T,{setPasswordChange:n})}),Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault();var s=new FormData;s.append("path",E),j.a.patch("/api/pictures/".concat(e.user._id,"/"),s).then((function(e){console.log(e),H("Ihr Profilbild wurde erfolgreich hochgeladen!")})).catch((function(e){return e})),K("Ihr Profilbild konnte nicht hochgeladen werden. Bitte versuchen Sie erneut.")},encType:"multipart/form-data",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:Object(u.jsx)("label",{htmlFor:"path",children:"Neues Profilbild:"})}),Object(u.jsxs)("div",{className:"cell-desc",children:[Object(u.jsx)("input",{type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),U(e.target.files[0])}(e)}}),Object(u.jsx)("button",{className:"button is-salmon",type:"submit",children:"Update"}),Object(u.jsx)("div",{children:L?Object(u.jsx)("h3",{children:L}):Object(u.jsx)("h3",{children:M})})]})]})}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-yellow change-settings",onClick:function(){n(!1),o(!0)},children:"Benutzerdaten \xe4ndern"})})]}),e.profileData&&d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"title is-3",children:"Benutzerdaten \xe4ndern"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("/api/owners/".concat(e.user._id),{email:v,username:_,first_name:k,last_name:z}).then((function(t){console.log(t),t.message?O(t.message):(console.log(t),O("Dein Profil wurde erfolgreich bearbeitet."),e.history.push("/dashboard"))})).catch((function(e){return e}))},children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{className:"input",id:"email",type:"email",name:"email",value:v,onChange:function(e){return g(e.target.value)}})]})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsxs)("label",{className:"label",htmlFor:"username",children:["Username:"," "]}),Object(u.jsx)("input",{className:"input",id:"username",type:"text",name:"username",value:_,onChange:function(e){return y(e.target.value)}})]})}),Object(u.jsxs)("fieldset",{className:"name",children:[Object(u.jsx)("legend",{className:"label",children:"Name"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"first_name",type:"text",name:"first_name",placeholder:"Hanna",value:k,onChange:function(e){return C(e.target.value)}})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"last_name",type:"text",name:"last_name",placeholder:"Schmidt",value:z,onChange:function(e){return P(e.target.value)}})})})]}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{type:"submit",className:"button is-yellow change-settings",children:"Benutzerdaten \xe4ndern"})})]}),m&&Object(u.jsx)("p",{className:"change-setting-message",children:m})]})]})}function A(e){var t=Object(a.useState)(!1),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(!1),r=Object(l.a)(i,2),d=r[0],o=r[1],b=Object(a.useState)(""),h=Object(l.a)(b,2),m=h[0],O=h[1],p=Object(a.useState)(e.profileData.contact.email),x=Object(l.a)(p,2),v=x[0],g=x[1],f=Object(a.useState)(e.profileData.username),N=Object(l.a)(f,2),_=N[0],y=N[1],w=Object(a.useState)(e.profileData.full_name.first_name),S=Object(l.a)(w,2),k=S[0],C=S[1],F=Object(a.useState)(e.profileData.full_name.last_name),z=Object(l.a)(F,2),P=z[0],B=z[1],I=Object(a.useState)(e.profileData.vendor_id.business_name),E=Object(l.a)(I,2),U=E[0],A=E[1],q=Object(a.useState)(e.profileData.vendor_id.address.street),L=Object(l.a)(q,2),H=L[0],W=L[1],G=Object(a.useState)(e.profileData.vendor_id.address.house_number),M=Object(l.a)(G,2),K=M[0],Z=M[1],J=Object(a.useState)(e.profileData.vendor_id.address.additional_info),V=Object(l.a)(J,2),Q=V[0],Y=V[1],R=Object(a.useState)(e.profileData.vendor_id.address.postal_code),X=Object(l.a)(R,2),$=X[0],ee=X[1],te=Object(a.useState)(e.profileData.vendor_id.address.city),se=Object(l.a)(te,2),ae=se[0],ce=se[1],ne=Object(a.useState)(e.profileData.vendor_id.business_type),ie=Object(l.a)(ne,2),le=ie[0],re=ie[1],de=Object(a.useState)([]),oe=Object(l.a)(de,2),je=oe[0],ue=oe[1],be=Object(a.useState)(""),he=Object(l.a)(be,2),me=he[0],Oe=he[1],pe=Object(a.useState)(""),xe=Object(l.a)(pe,2),ve=xe[0],ge=xe[1],fe=Object(a.useState)(""),Ne=Object(l.a)(fe,2),_e=Ne[0],ye=Ne[1];return Object(u.jsxs)("div",{className:"dashboard-content settings",children:[e.profileData&&!d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Username:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.username})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Name:"}),Object(u.jsxs)("div",{className:"cell-desc",children:[e.profileData.full_name.first_name," ",e.profileData.full_name.last_name]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Email:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.contact.email})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Passwort:"}),Object(u.jsx)("div",{className:"cell-desc",children:!c&&Object(u.jsx)("button",{className:"button is-yellow",onClick:function(){return n(!c)},children:"Password \xe4ndern"})})]}),Object(u.jsx)("div",{className:"row",children:!0===c&&Object(u.jsx)(T,{setPasswordChange:n})}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Addresse:"}),Object(u.jsxs)("div",{className:"cell-desc",children:[e.profileData.vendor_id.address.street," ",e.profileData.vendor_id.address.house_number,","," ",e.profileData.vendor_id.address.additional_info&&Object(u.jsxs)(u.Fragment,{children:[e.profileData.vendor_id.address.additional_info,","]})," ",e.profileData.vendor_id.address.postal_code," ",e.profileData.vendor_id.address.city]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Firmenname:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.vendor_id.business_name})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Gesch\xe4ftstyp:"}),Object(u.jsx)("div",{className:"cell-desc",children:e.profileData.vendor_id.business_type})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:"Spezialierung:"}),Object(u.jsx)("div",{className:"cell-desc setting-tags",children:Object(u.jsx)("ul",{children:e.profileData.vendor_id.specialization.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("span",{class:"tag is-purple",children:e})})}))})})]}),Object(u.jsx)("form",{onSubmit:function(t){t.preventDefault();var s=new FormData;s.append("path",me),j.a.patch("/api/pictures/".concat(e.user._id,"/"),s).then((function(e){console.log(e),ge("Ihr Profilbild wurde erfolgreich hochgeladen!")})).catch((function(e){return e})),ye("Ihr Profilbild konnte nicht hochgeladen werden. Bitte versuchen Sie erneut.")},encType:"multipart/form-data",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell-title",children:Object(u.jsx)("label",{htmlFor:"path",children:"Neues Profilbild:"})}),Object(u.jsxs)("div",{className:"cell-desc",children:[Object(u.jsx)("input",{type:"file",name:"file",onChange:function(e){return function(e){console.log(e.target.files[0]),Oe(e.target.files[0])}(e)}}),Object(u.jsx)("button",{className:"button is-salmon",type:"submit",children:"Update"}),Object(u.jsx)("div",{children:ve?Object(u.jsx)("h3",{children:ve}):Object(u.jsx)("h3",{children:_e})})]})]})}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-yellow change-settings",onClick:function(){n(!1),o(!0)},children:"Benutzerdaten \xe4ndern"})})]}),e.profileData&&d&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{className:"title is-3",children:"Benutzerdaten \xe4ndern"}),Object(u.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("/api/vendors/".concat(e.user.vendor_id),{email:v,username:_,first_name:k,last_name:P,business_name:U,street:H,house_number:K,additional_address_info:Q,postal_code:$,city:ae,business_type:le,specialization:je}).then((function(e){console.log(e),O(e.data.message)})).catch((function(e){return e}))},children:[Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("p",{className:"control",children:[Object(u.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(u.jsx)("input",{className:"input",id:"email",type:"email",name:"email",value:v,onChange:function(e){return g(e.target.value)}})]})}),Object(u.jsx)("label",{className:"label",htmlFor:"username",children:"Username"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"username",type:"text",name:"username",value:_,onChange:function(e){return y(e.target.value)}})})}),Object(u.jsxs)("fieldset",{className:"name",children:[Object(u.jsx)("legend",{className:"label",children:"Name"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"first_name",type:"text",name:"first_name",placeholder:"Hanna",value:k,onChange:function(e){return C(e.target.value)}})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"last_name",type:"text",name:"last_name",placeholder:"Schmidt",value:P,onChange:function(e){return B(e.target.value)}})})})]}),Object(u.jsxs)("fieldset",{className:"address",children:[Object(u.jsx)("legend",{className:"label",children:"Adresse"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"street",type:"text",name:"street",value:H,onChange:function(e){return W(e.target.value)},placeholder:"Hundestra\xdfe"})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"house_number",type:"number",name:"house_number",value:K,onChange:function(e){return Z(e.target.value)},placeholder:"1"})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"address.additional_info",type:"text",name:"address.additional_info",value:Q,onChange:function(e){return Y(e.target.value)},placeholder:"c/o Kaiser"})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"postal_code",type:"number",name:"postal_code",value:$,onChange:function(e){return ee(e.target.value)},placeholder:"12345"})})}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"city",type:"text",name:"city",value:ae,onChange:function(e){return ce(e.target.value)},placeholder:"Hundestadt"})})})]}),Object(u.jsx)("label",{className:"label",htmlFor:"business_name",children:"Firmenname"}),Object(u.jsx)("div",{className:"field",children:Object(u.jsx)("p",{className:"control",children:Object(u.jsx)("input",{className:"input",id:"business_name",type:"text",name:"business_name",placeholder:"Pawly",value:U,onChange:function(e){return A(e.target.value)}})})}),Object(u.jsxs)("div",{className:"dropdowns-setting",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("label",{className:"label",htmlFor:"business_type",children:"Gesch\xe4ftstyp:"}),Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{name:"business_type",id:"business_type",value:le,onChange:function(e){return re(e.target.value)},children:[Object(u.jsx)("option",{value:"Hundeschule",children:"Hundeschule"}),Object(u.jsx)("option",{value:"Salon",children:"Salon"}),Object(u.jsx)("option",{value:"Tierarzt",children:"Tierarzt"})]})})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("label",{className:"label",htmlFor:"specialization",children:["Spezialisierung:"," "]}),Object(u.jsx)("div",{className:"select select-specialization is-multiple",children:Object(u.jsxs)("select",{name:"specialization",id:"specialization",value:je,onChange:function(e){return(t=e).persist(),void ue((function(e){var s=t.target.value;return e.includes(s)?e.filter((function(e){return e!==s})):[].concat(Object(D.a)(e),[s])}));var t},multiple:!0,children:[Object(u.jsx)("option",{value:"Leinentraining",children:"Leinentraining"}),Object(u.jsx)("option",{value:"Trennungsangst",children:"Trennungsangst"}),Object(u.jsx)("option",{value:"Welpenschule",children:"Welpenschule"}),Object(u.jsx)("option",{value:"Agility",children:"Agility"})]})})]})]}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{type:"submit",className:"button is-yellow change-settings",children:"Benutzerdaten \xe4ndern"})})]}),m&&Object(u.jsx)("p",{className:"change-setting-message",children:m})]})]})}function q(){return Object(u.jsxs)("div",{className:"dashboard-content favorites",children:[Object(u.jsx)("h3",{className:"title is-3",children:"In progress... \ud83e\udd37\u200d\u2640\ufe0f\ud83e\udd37\u200d\u2642\ufe0f"}),Object(u.jsx)("h4",{className:"title is-4",children:"But here is a cute giphy of a puppy as compensation..."}),Object(u.jsx)("iframe",{src:"https://giphy.com/embed/Y4pAQv58ETJgRwoLxj",width:"384",height:"480",frameBorder:"0",class:"giphy-embed",allowFullScreen:!0})]})}function L(e){var t=Object(a.useState)(null),s=Object(l.a)(t,2),c=s[0],n=s[1];Object(a.useEffect)((function(){function t(){return(t=Object(v.a)(x.a.mark((function t(){var s,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("vendor"!==e.user.role){t.next=7;break}return t.next=3,j.a.get("/api/vendors/".concat(e.user.vendor_id));case 3:s=t.sent,n(s.data),t.next=12;break;case 7:if("dogOwner"!==e.user.role){t.next=12;break}return t.next=10,j.a.get("/api/owners/".concat(e.user._id));case 10:a=t.sent,n(a.data);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]);var i,r,d=Object(a.useState)("\xdcbersicht"),o=Object(l.a)(d,2),b=o[0],h=o[1],m=function(e){h(e.target.innerText),document.querySelectorAll(".menu ul li").forEach((function(e){e.classList.remove("active")})),e.target.classList.add("active")};return"vendor"===e.user.role?(i=Object(u.jsx)(_,{handleClick:m,clickedSidebarItem:b,setSidebarItem:h}),"\xdcbersicht"===b?r=Object(u.jsx)(f,{user:e.user,profileData:c}):"Benutzerdaten"===b?r=Object(u.jsx)(A,{user:e.user,profileData:c}):"Dienstleistungen"===b?r=Object(u.jsx)(E,{user:e.user}):"Buchungen"===b&&(r=Object(u.jsx)(F,{user:e.user}))):"dogOwner"===e.user.role&&(i=Object(u.jsx)(N,{handleClick:m,clickedSidebarItem:b,setSidebarItem:h}),"\xdcbersicht"===b?r=Object(u.jsx)(g,{user:e.user,profileData:c}):"Benutzerdaten"===b?r=Object(u.jsx)(U,{user:e.user,profileData:c}):"Favoriten"===b?r=Object(u.jsx)(q,{user:e.user}):"Buchungen"===b&&(r=Object(u.jsx)(C,{user:e.user}))),Object(u.jsxs)("div",{className:"dashboard-wrapper",children:[i,r]})}s(77);function H(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(null),r=Object(l.a)(i,2),d=r[0],o=r[1],j=Object(a.useState)(""),b=Object(l.a)(j,2),h=b[0],m=b[1];return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("section",{className:"hero is-fullheight-with-navbar",children:Object(u.jsxs)("div",{className:"hero-body",children:[Object(u.jsx)("h1",{className:"title is-1",children:"Finde schnell & einfach die perfekten Trainer:innen f\xfcr dich & deinen Hund"}),Object(u.jsxs)("form",{className:"search-box",onSubmit:function(t){t.preventDefault(),e.setSearch([c,d,h]),e.history.push("/training")},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Spezialisierung"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{id:"specialization",value:c,onChange:function(e){return n(e.target.value)},children:[Object(u.jsx)("option",{children:"Bitte ausw\xe4hlen"}),Object(u.jsx)("option",{children:"Leinentraining"}),Object(u.jsx)("option",{children:"Trennungsangst"}),Object(u.jsx)("option",{children:"Welpenschule"}),Object(u.jsx)("option",{children:"Agility"})]})})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Stadt"}),Object(u.jsx)("input",{id:"city",name:"city",className:"input is-link",type:"text",placeholder:"Deine Stadt",value:d,onChange:function(e){return o(e.target.value)}})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("div",{className:"control",children:[Object(u.jsxs)("label",{className:"radio training-type",children:[Object(u.jsx)("input",{type:"radio",id:"training-type-single",name:"training-type",value:"training-type-single",checked:"training-type-single"===h,onChange:function(){return m("training-type-single")}}),"Einzeltraining"]}),Object(u.jsxs)("label",{className:"radio",children:[Object(u.jsx)("input",{type:"radio",id:"training-type-group",name:"training-type",value:"training-type-group",checked:"training-type-group"===h,onChange:function(){return m("training-type-group")}}),"Gruppentraining"]})]})}),Object(u.jsx)("div",{className:"field is-grouped",children:Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("button",{className:"button is-purple",type:"submit",children:"Jetzt schn\xfcffeln"})})})]})]})}),Object(u.jsx)("section",{className:"bold-statement",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsx)("h1",{className:"title is-1",children:"Our mission is to make life with dogs easier, hassle-free and save time, so you can spend it with your furry friend."})})}),Object(u.jsx)("section",{className:"steps",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{className:"title is-2 has-text-centered",children:"Vier einfache Schritte"}),Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621519711/pawly/sign_up_icon_t1ywok.png",alt:"anmelden"}),Object(u.jsx)("h4",{className:"title is-4 content has-text-centered",children:"Anmelden"}),Object(u.jsx)("p",{className:"has-text-centered",children:"Geniese den einfacher Zugang zu unserem Trainernetzwerk - \xfcberall & jederzeit."})]}),Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621519711/pawly/search_icon_u7fthw.png",alt:"suchen"}),Object(u.jsx)("h4",{className:"title is-4 has-text-centered",children:"Suchen"}),Object(u.jsx)("p",{className:"has-text-centered",children:"Es war noch nie einfacher: nutze unsere Suche und finde sofort dein perfektes Match!"})]}),Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621519711/pawly/Booking_icon_irbfq1.png",alt:"buchen"}),Object(u.jsx)("h4",{className:"title is-4 has-text-centered",children:"Buchen"}),Object(u.jsx)("p",{className:"has-text-centered",children:"Wir setzen l\xfcckenhaften Informationen ein Ende, du bekommst genau das was du willst!"})]}),Object(u.jsxs)("div",{className:"column",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621519711/pawly/enjoy_icon_vqlkwb.png",alt:"genie\xdfen"}),Object(u.jsx)("h4",{className:"title is-4 has-text-centered",children:"Genie\xdfen"}),Object(u.jsx)("p",{className:"has-text-centered",children:"Wir setzen l\xfcckenhaften Informationen ein Ende, du bekommst genau das was du willst!"})]})]})]})}),Object(u.jsx)("section",{className:"reason",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h2",{className:"title is-2",children:["Warum",Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621510947/pawly/pawly-logo-small_clxuey.png",alt:""}),"?"]}),Object(u.jsxs)("div",{className:"reason-item-container",children:[Object(u.jsx)("div",{className:"reason-item",children:Object(u.jsxs)("div",{className:"reason-wrap",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621520334/pawly/One_platform_foqga5.png",alt:"one platform"}),Object(u.jsx)("h3",{className:"title is-3",children:"1. One platform for all"}),Object(u.jsx)("p",{children:"Search, book, and pay - all on a single platform"})]})}),Object(u.jsx)("div",{className:"reason-item",children:Object(u.jsxs)("div",{className:"reason-wrap",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621520334/pawly/Full_transparency_yixf60.png",alt:"transparency"}),Object(u.jsx)("h3",{className:"title is-3",children:"2. Full transparency"}),Object(u.jsx)("p",{children:"Have confidence and full knowledge before booking any dog services."})]})}),Object(u.jsx)("div",{className:"reason-item",children:Object(u.jsxs)("div",{className:"reason-wrap",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621520334/pawly/Quick_matching_wwl0ko.png",alt:"matching"}),Object(u.jsx)("h3",{className:"title is-3",children:"3. Quick matching"}),Object(u.jsx)("p",{children:"Intuitive, filter-based search in your neighborhood"})]})})]})]})}),Object(u.jsx)("section",{className:"join",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("h2",{className:"title is-3 content has-text-centered",children:["Mach mit bei",Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621523655/pawly/Pawly-Logo-yellow_k3rqgu.png",alt:"gelbes logo"})]}),Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsxs)("div",{className:"column owner-signup",children:[Object(u.jsx)("p",{children:"Suchst du einen Trainer?"}),Object(u.jsx)("button",{className:"button is-yellow",children:"Sign up"})]}),Object(u.jsxs)("div",{className:"column trainer-signup",children:[Object(u.jsx)("p",{children:"M\xf6chtest du deine Dienstleistungen anbieten?"}),Object(u.jsx)("button",{className:"button is-yellow",children:"Sign up"})]})]})]})})]})}var W=s(37),G=function(e){var t=e.component,s=e.user,a=e.path,c=e.redirectPath,n=void 0===c?"/":c,l=Object(W.a)(e,["component","user","path","redirectPath"]);return Object(u.jsx)(r.b,{exact:!0,path:a,render:function(e){return s?Object(u.jsx)(t,Object(i.a)(Object(i.a)(Object(i.a)({},e),l),{},{user:s})):Object(u.jsx)(r.a,{to:n})}})};function M(e){for(var t=Math.floor(e.avg),s=[],a=0;a<5;a++)a<t?s.push("checked"):s.push("empty");return Object(u.jsx)("div",{className:"star-rating",children:s.map((function(e,t){return t+=1,Object(u.jsx)("span",{className:"star ".concat("checked"===e?"checked":"empty")},t)}))})}function K(e){var t,s=Object(a.useState)(null),c=Object(l.a)(s,2),n=c[0],i=c[1],r=Object(a.useState)(null),o=Object(l.a)(r,2),b=o[0],h=o[1],m=Object(a.useState)(null),O=Object(l.a)(m,2),p=O[0],g=O[1],f=Object(a.useState)(null),N=Object(l.a)(f,2),_=N[0],y=N[1];Object(a.useEffect)((function(){function t(){return(t=Object(v.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/api/vendors/");case 2:t=e.sent,i(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.search&&(h(e.search[0]),g(e.search[1]),y(e.search[2])),function(){t.apply(this,arguments)}()}),[e]);return n&&(t=n.filter((function(e){return!b||e.vendor_id.specialization.some((function(e){return b===e}))})).filter((function(e){return!p||e.vendor_id.address.city.toLowerCase().trim()===p.toLowerCase().trim()})).filter((function(e){return!_||e.vendor_id.services.some((function(e){return"training-type-single"===_&&1===e.group_size.total||"training-type-group"===_&&e.group_size.total>1}))})).map((function(e){var t=e.vendor_id.services.slice(0,3).map((function(e){return Object(u.jsxs)("div",{className:"service-package",children:[Object(u.jsx)("p",{children:e.name}),Object(u.jsxs)("p",{children:[e.price,"\u20ac"]})]})}));return Object(u.jsxs)("div",{className:"card",children:[Object(u.jsx)("div",{className:"card-image",style:e.avatar?{backgroundImage:"url(".concat(e.avatar.path,")")}:{backgroundImage:"url('https://res.cloudinary.com/cloud-michelle/image/upload/v1621528360/pawly/placeholder-vendor_lhavwl.png')"}}),Object(u.jsxs)("div",{className:"card-description",children:[Object(u.jsxs)("header",{className:"card-header",children:[Object(u.jsx)("p",{className:"card-header-title",children:e.vendor_id.business_name}),Object(u.jsx)("div",{className:"like",children:Object(u.jsx)("div",{className:"icon"})})]}),Object(u.jsx)("div",{className:"card-content",children:Object(u.jsxs)("div",{children:[Object(u.jsxs)("p",{children:[e.vendor_id.address.street,","," ",e.vendor_id.address.house_number,","," ",e.vendor_id.address.postal_code," ",e.vendor_id.address.city]}),e.vendor_id.description&&(e.vendor_id.description.length>100?e.vendor_id.description.slice(0,200)+"[...]":e.vendor_id.description),Object(u.jsx)("br",{}),Object(u.jsxs)("p",{className:"star-wrapper",children:[Object(u.jsx)(M,{avg:e.vendor_id.avg_rating}),Object(u.jsx)("span",{className:"rating-num",children:e.vendor_id.avg_rating})]}),Object(u.jsx)("br",{}),e.vendor_id.specialization&&Object(u.jsx)("ul",{className:"specialisation-tags",children:e.vendor_id.specialization.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("span",{class:"tag is-link",children:e})})}))}),Object(u.jsx)("br",{}),Object(u.jsx)("div",{className:"service-overview",children:e.vendor_id.services&&t})]})}),Object(u.jsxs)("div",{className:"card-footer",children:[Object(u.jsx)(d.b,{to:"mailto:".concat(e.contact.email),onClick:function(t){window.location="mailto:".concat(e.contact.email),t.preventDefault()},className:"card-footer-item",children:"Kontaktieren"}),Object(u.jsx)(d.b,{to:"/training/".concat(e.vendor_id._id),className:"card-footer-item",children:"Buchen"})]})]})]},e.vendor_id)}))),Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h2",{className:"title is-2",children:"Dein perfektes Match wartet auf dich! \ud83d\udc15"}),Object(u.jsxs)("div",{className:"search-page",children:[Object(u.jsxs)("div",{className:"search-bar",children:[Object(u.jsxs)("form",{className:"search-box",onSubmit:function(e){return e.preventDefault()},children:[Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Spezialisierung"}),Object(u.jsx)("div",{className:"control",children:Object(u.jsx)("div",{className:"select",children:Object(u.jsxs)("select",{id:"specialization",value:b,onChange:function(e){return h(e.target.value)},children:[Object(u.jsx)("option",{children:"Bitte ausw\xe4hlen"}),Object(u.jsx)("option",{children:"Leinentraining"}),Object(u.jsx)("option",{children:"Trennungsangst"}),Object(u.jsx)("option",{children:"Welpenschule"}),Object(u.jsx)("option",{children:"Agility"})]})})})]}),Object(u.jsxs)("div",{className:"field",children:[Object(u.jsx)("label",{className:"label",children:"Stadt"}),Object(u.jsx)("input",{id:"city",name:"city",className:"input is-link",type:"text",placeholder:"Deine Stadt",value:p,onChange:function(e){return g(e.target.value)}})]}),Object(u.jsx)("div",{className:"field",children:Object(u.jsxs)("div",{className:"control",children:[Object(u.jsxs)("label",{className:"radio training-type",children:[Object(u.jsx)("input",{type:"radio",id:"training-type-single",name:"training-type",value:"training-type-single",checked:"training-type-single"===_,onChange:function(){return y("training-type-single")}}),"Einzeltraining"]}),Object(u.jsxs)("label",{className:"radio",children:[Object(u.jsx)("input",{type:"radio",id:"training-type-group",name:"training-type",value:"training-type-group",checked:"training-type-group"===_,onChange:function(){return y("training-type-group")}}),"Gruppentraining"]})]})}),Object(u.jsx)("div",{className:"field is-grouped",children:Object(u.jsx)("div",{className:"control"})})]}),Object(u.jsx)("div",{className:"button is-purple",onClick:function(){h(null),g(""),y(null)},children:"Filter zur\xfccksetzen"})]}),Object(u.jsx)("div",{className:"search-results",children:n?t:Object(u.jsx)("p",{children:"Loading..."})})]})]})}function Z(){return Object(u.jsx)("div",{children:"this is the about page"})}function J(){return Object(u.jsxs)("footer",{children:[Object(u.jsxs)("div",{className:"columns",children:[Object(u.jsx)("div",{className:"column",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"About"}),Object(u.jsx)("li",{children:"Instagram"}),Object(u.jsx)("li",{children:"Facebook"})]})}),Object(u.jsx)("div",{className:"column",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Datenschutzerkl\xe4rung"}),Object(u.jsx)("li",{children:"Impressum"}),Object(u.jsx)("li",{children:"AGB"}),Object(u.jsx)("li",{children:"Kontakt"})]})})]}),Object(u.jsxs)("div",{className:"has-text-centered footer-logo",children:[Object(u.jsx)("img",{src:"https://res.cloudinary.com/cloud-michelle/image/upload/v1621524611/pawly/Pawly_Logo_white_rvpxbh.png",alt:"logo weiss"}),Object(u.jsx)("span",{children:"Berlin."})]})]})}function V(e){var t=Object(a.useState)(null),s=Object(l.a)(t,2),c=s[0],n=s[1];return Object(a.useEffect)((function(){function t(){return(t=Object(v.a)(x.a.mark((function t(){var s;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.a.get("/api/vendors/".concat(e.match.params.vendorId));case 2:s=t.sent,n(s.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[e]),c?Object(u.jsxs)("div",{className:"container single-result",children:[Object(u.jsxs)("div",{className:"vendor-info",children:[Object(u.jsx)("div",{className:"vendor-image",children:Object(u.jsx)("img",{src:"https://images.unsplash.com/photo-1594499468121-f45e83e30df4?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=1250&q=80",alt:"Placeholder image"})}),Object(u.jsxs)("div",{className:"vendor-description",children:[Object(u.jsxs)("h2",{className:"title is-2",children:[c.vendor_id.business_name,Object(u.jsx)("div",{className:"like",children:Object(u.jsx)("div",{className:"icon"})})]}),Object(u.jsxs)("p",{children:[c.vendor_id.address.street,","," ",c.vendor_id.address.house_number,","," ",c.vendor_id.address.postal_code," ",c.vendor_id.address.city]}),Object(u.jsxs)("p",{className:"star-wrapper",children:[Object(u.jsx)(M,{avg:c.vendor_id.avg_rating}),Object(u.jsx)("span",{className:"rating-num",children:c.vendor_id.avg_rating})]}),Object(u.jsx)(d.b,{to:"mailto:".concat(c.contact.email),onClick:function(e){window.location="mailto:".concat(c.contact.email),e.preventDefault()},children:"Kontaktieren"}),c.vendor_id.specialization&&Object(u.jsx)("ul",{className:"specialisation-tags",children:c.vendor_id.specialization.map((function(e){return Object(u.jsx)("li",{children:Object(u.jsx)("span",{class:"tag is-link",children:e})})}))})]})]}),Object(u.jsx)("div",{className:"intro-text",children:Object(u.jsx)("p",{children:c.vendor_id.description})}),Object(u.jsxs)("div",{className:"service-info",children:[Object(u.jsx)("h3",{className:"title is-3",children:"Preise"}),c.vendor_id.services&&c.vendor_id.services.map((function(t){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"cell",children:1===t.group_size.total?"Gruppentraining":"Einzeltraining"}),Object(u.jsx)("div",{className:"cell",children:t.name}),Object(u.jsxs)("div",{className:"cell",children:[t.price,"\u20ac"]}),Object(u.jsx)("div",{className:"cell",children:Object(u.jsx)(d.b,{to:"/booking/".concat(t._id),className:"card-footer-item",children:"Buchen"})})]}),Object(u.jsx)(S,{vendorId:e.match.params.vendorId})]})}))]})]}):Object(u.jsx)("h2",{children:"Loading..."})}s(78);function Q(e){var t=Object(a.useState)(""),s=Object(l.a)(t,2),c=s[0],n=s[1],i=Object(a.useState)(!1),d=Object(l.a)(i,2),o=d[0],b=d[1],h=Object(a.useState)(!1),m=Object(l.a)(h,2),O=m[0],p=m[1],x=Object(a.useState)(""),v=Object(l.a)(x,2),g=v[0],f=v[1],N=Object(a.useState)(""),_=Object(l.a)(N,2),y=_[0],w=_[1],S=Object(a.useState)(""),k=Object(l.a)(S,2),C=k[0],F=k[1],D=Object(a.useState)(""),z=Object(l.a)(D,2),P=z[0],B=z[1];Object(a.useEffect)((function(){j.a.get("/api/booking/".concat(e.match.params.serviceId)).then((function(e){n(e.data),B(e.data.group_size.total)}))}),[e]);return Object(u.jsxs)("div",{className:"booking-page",children:[!e.user&&Object(u.jsx)(r.a,{to:"/login"}),c?Object(u.jsxs)("div",{className:"booking-container",children:[Object(u.jsx)("h2",{className:"title is-3",children:c.name}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Adresse:"}),Object(u.jsxs)("div",{className:"col",children:[c.location.street," ",c.location.house_number,","," ",c.postal_code," ",c.location.city]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Uhrzeit: "}),Object(u.jsxs)("div",{className:"col",children:[c.time.start," - ",c.time.end]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Trainer: "}),Object(u.jsx)("div",{className:"col",children:c.operator[0].name})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Preis: "}),Object(u.jsxs)("div",{className:"col",children:[c.price,"\u20ac"]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Format: "}),Object(u.jsxs)("div",{className:"col",children:[c.price,"\u20ac"]})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"Gruppengr\xf6\xdfe: "}),Object(u.jsx)("div",{className:"col",children:c.group_size.total})]}),Object(u.jsxs)("div",{className:"row",children:[Object(u.jsx)("div",{className:"col",children:"M\xf6gliche Termine: "}),Object(u.jsx)("div",{className:"col",children:c.final_dates.map((function(t,s){return Object(u.jsx)("button",{className:"button is-yellow",type:"submit",onClick:function(){return function(t){b(!0),f(t),w(e.match.params.serviceId),F(e.user._id)}(t)},children:t},s)}))})]}),o&&Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-salmon",type:"submit",onClick:function(t){p(!0),b(!1),j.a.put("/api/booking/".concat(e.match.params.serviceId),{chooseDate:g,courseId:y,userId:C,groupSize:P}).then((function(e){return console.log(e)}))},children:"Diesen Termin verbindlich buchen"})}),O&&Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"confirmation-popup",children:[Object(u.jsxs)("h4",{className:"title is-4",children:["Danke f\xfcr deine Buchung ",e.user.username,"!"]}),Object(u.jsx)("div",{className:"align-button-to-right",children:Object(u.jsx)("button",{className:"button is-yellow",onClick:function(){return p(!1),void e.history.push("/training")},children:"Weiter schn\xfcffeln"})})]})})]}):Object(u.jsx)("h3",{className:"title is-3",children:"Gleich ist es soweit..."})]})}function Y(e){var t=Object(a.useState)(e.user),s=Object(l.a)(t,2),c=s[0],n=s[1],d=Object(a.useState)([]),o=Object(l.a)(d,2),j=o[0],h=o[1];return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(b,{user:c,setUser:function(e){return n(e)}}),Object(u.jsxs)("main",{children:[Object(u.jsx)(r.b,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(H,Object(i.a)({user:c,setUser:function(e){return n(e)},search:j,setSearch:h},e))}}),Object(u.jsx)(r.b,{exact:!0,path:"/about",render:function(e){return Object(u.jsx)(Z,Object(i.a)({user:c,setUser:function(e){return n(e)}},e))}}),Object(u.jsx)(r.b,{exact:!0,path:"/training",render:function(e){return Object(u.jsx)(K,Object(i.a)({user:c,setUser:function(e){return n(e)},search:j,setSearch:h},e))}}),Object(u.jsx)(r.b,{exact:!0,path:"/training/:vendorId",render:function(e){return Object(u.jsx)(V,Object(i.a)({user:c,setUser:function(e){return n(e)}},e))}}),Object(u.jsx)(r.b,{exact:!0,path:"/login",render:function(e){return Object(u.jsx)(O,Object(i.a)({user:c,setUser:function(e){return n(e)}},e))}}),Object(u.jsx)(r.b,{exact:!0,path:"/signup",render:function(e){return Object(u.jsx)(m,Object(i.a)({user:c,setUser:function(e){return n(e)}},e))}}),Object(u.jsx)(G,{path:"/dashboard",user:c,component:L,redirectPath:"/login"}),Object(u.jsx)(r.b,{exact:!0,path:"/booking/:serviceId",render:function(e){return Object(u.jsx)(Q,Object(i.a)({user:c,setUser:function(e){return n(e)}},e))}})]}),Object(u.jsx)(J,{})]})}var R=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,80)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),a(e),c(e),n(e),i(e)}))};j.a.get("/api/auth/loggedin").then((function(e){var t=e.data;n.a.render(Object(u.jsx)(d.a,{children:Object(u.jsx)(Y,{user:t})}),document.getElementById("root"))})).catch((function(e){console.log(e)})),R()}},[[79,1,2]]]);
//# sourceMappingURL=main.be114b1f.chunk.js.map